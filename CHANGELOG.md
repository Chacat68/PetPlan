# 更新日志 (Changelog)

## [1.0.1] - 2025-11-29

### 🐛 Bug 修复

#### 严重问题修复
- **修复游戏初始化失败问题**: 修正了 `UISystem` 实例化方式错误，从错误的带参数实例化改为使用单例模式
- **修复 `updateAllAttributeDisplays` 未定义错误**: 该方法在 `player-system.js` 中被调用但未定义，导致加载存档时报错
- **修复存档玩家等级显示问题**: 存档槽位显示的玩家等级始终为 1，现已修正数据结构读取逻辑

#### 中等问题修复
- **修复宠物系统获取玩家等级失败**: `getPlayerLevel()` 方法无法正确获取玩家等级，影响宠物解锁判断
- **修复 `UISystem` 缺少 `update()` 方法**: 游戏核心循环调用了不存在的方法

#### 低等问题修复
- **修复 CSS 类名兼容性问题**: 将中文类名 `养成-bars` 改为英文 `pet-status-bars`

### 🔧 技术改进
- 优化了 `UISystem` 的初始化流程
- 改进了存档数据结构，在顶层添加 `level` 字段便于读取
- 增强了 `getPlayerLevel()` 的容错能力，支持从多个来源获取玩家等级

---

## [1.0.0] - 2025-11-29

### ✨ 初始版本

#### 核心功能
- 🎮 **游戏核心系统**: Canvas 渲染、游戏循环、场景管理
- 👤 **玩家系统**: 角色属性、升级系统、三维属性（力量/敏捷/智力）
- ⚔️ **战斗系统**: 怪物生成、子弹系统、碰撞检测、爆炸效果
- 🐾 **宠物系统**: 宠物收集、升级、编队、战斗、养成
- 🏰 **领地系统**: 建筑建造、升级、资源产出、属性加成
- 💰 **资源系统**: 金币、红宝石、水晶管理
- 💾 **存档系统**: 5个存档槽位、自动保存、导入导出

#### 界面功能
- 主游戏界面与底部导航栏
- 角色管理界面（角色/技能/宠物/藏品/契约标签）
- 存档管理界面
- 设置菜单

#### 快捷键
- `F5` - 快速保存
- `F9` - 快速加载
