# 存档系统使用指南

## 快速开始

存档系统已完全集成到 Pet Plan 游戏中，无需额外配置即可使用。

## 功能说明

### 1. 打开存档菜单
点击屏幕左下角的 **💾 存档** 按钮即可打开存档管理界面。

### 2. 保存游戏
- **方法一**: 在存档管理界面中，选择任意槽位，点击 **保存** 按钮
- **方法二**: 按下键盘 **F5** 键快速保存到槽位 1
- **自动保存**: 游戏每 30 秒自动保存到槽位 1

### 3. 加载游戏
- **方法一**: 在存档管理界面中，选择已有存档的槽位，点击 **加载** 按钮
- **方法二**: 按下键盘 **F9** 键快速加载槽位 1
- ⚠️ 加载存档会覆盖当前游戏进度，请谨慎操作

### 4. 删除存档
在存档管理界面中，点击对应槽位的 **删除** 按钮，确认后即可删除。

### 5. 导出存档
1. 在存档管理界面中，点击对应槽位的 **导出** 按钮
2. 系统会自动下载一个 JSON 格式的存档文件
3. 建议定期导出存档以备份游戏进度

### 6. 导入存档
1. 在存档管理界面的 **导入存档** 区域，点击 **选择文件** 按钮
2. 选择之前导出的 JSON 存档文件
3. 在下拉框中选择要导入到的目标槽位
4. 点击 **导入** 按钮完成导入

## 存档内容

每个存档包含以下数据：
- ✅ 玩家等级、生命值、攻击力等属性
- ✅ 所有属性的升级成本
- ✅ 金币、红宝石、水晶等资源
- ✅ 领地等级和建筑信息
- ✅ 战斗系统配置

## 测试存档系统

打开 `test-save-system.html` 文件可以测试存档系统的所有功能：
1. 模拟游戏操作（升级、获得资源等）
2. 测试保存和加载功能
3. 查看存档信息
4. 测试导出和导入功能

## 注意事项

1. **浏览器兼容性**: 存档系统使用浏览器的 LocalStorage，请确保浏览器支持
2. **数据安全**: 
   - 存档保存在浏览器本地
   - 清除浏览器数据会删除存档
   - 建议定期导出存档备份
3. **存储限制**: LocalStorage 通常限制在 5-10MB，大型存档可能受限

## 快捷键汇总

| 快捷键 | 功能 |
|--------|------|
| F5 | 快速保存到槽位 1 |
| F9 | 快速加载槽位 1 |

## 常见问题

### Q: 如何备份我的游戏进度？
A: 使用导出功能将存档保存为 JSON 文件，妥善保管该文件。

### Q: 我可以在不同电脑上使用同一个存档吗？
A: 可以！导出存档文件后，在其他电脑上通过导入功能恢复进度。

### Q: 自动保存会覆盖我的手动存档吗？
A: 自动保存只会覆盖槽位 1，其他槽位不受影响。建议将重要进度保存到槽位 2-5。

### Q: 存档丢失了怎么办？
A: 如果之前有导出备份文件，可以通过导入功能恢复。否则只能重新开始游戏。

### Q: 加载存档后为什么要刷新页面？
A: 为了确保所有系统正确加载存档数据，建议刷新页面重新初始化游戏。

## 技术支持

如有问题或建议，请查看 `doc/features/存档系统.md` 获取详细技术文档。
